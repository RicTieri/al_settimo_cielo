if(void 0===window.dCurrentScreen){window.IOL=window.IOL||{},window.IOL.EVNT=window.IOL.EVNT||{},window.IOL.EVNT.evMngrCls=function(e){var t=this;return e&&e.indexOf("/v1")&&(e=e.replace("/v1","/v3")),e&&e.indexOf("/v2")&&(e=e.replace("/v2","/v3")),this._urlBase=e||"//evnt.iol.it/v3?",this._destUrl=!1,this._target=window,this.override_ref_host=!1,this.override_ref_path=!1,this.version="v3.0",this.doc_types={video:1,post:2,editoriale:3,foto:4,photogallery:5,gallery:5,guide_foto:6,shriek:7,social:8,strillo:9,"national-geo-post":10,"regional-geo-post":11,"local-geo-post":12,"reuters-post":13,news:14,sfoglia:15,saz_free:16,saz_pagante:17,saz_privato:18,vid_bob:19,vid_vpiol:20,vid_santiago:21},this.eventTypesSplits={pgmp:!1,pgmp_bxmp:"bxmp",bxmp:"bxmp",ck:!1,pgmp_pgnf:!1,pgmp_bxmp_pgnf:"bxmp",pgnf:!1},this.eventTypes={pgmp:{domain:"",pag_cat1:"",pag_cat2:"",pag_cat3:"",pag_id:"",doc_id:"",doc_type:0,ref_host:"",ref_path:"",breakpoint:0,source:"",attrs:[],lat:0,lon:0},pgmp_bxmp:{domain:"",pag_cat1:"",pag_cat2:"",pag_cat3:"",pag_id:"",doc_id:"",doc_type:0,ref_host:"",ref_path:"",boxes_ctr_id:[],boxes_id:[{area:"",box:"",doc_id:""}],breakpoint:0,source:"",attrs:[],lat:0,lon:0},bxmp:{domain:"",pag_cat1:"",pag_cat2:"",pag_cat3:"",pag_id:"",doc_id:"",doc_type:0,ref_host:"",ref_path:"",boxes_ctr_id:[],boxes_id:[{area:"",box:"",doc_id:""}],breakpoint:0,source:"",attrs:[],lat:0,lon:0},ck:{domain:"",pag_cat1:"",pag_cat2:"",pag_cat3:"",pag_id:"",doc_id:"",doc_type:0,ref_host:"",ref_path:"",box_ctr_id:"",page:"",area:"",box:"",link_type:"",cat1:"",cat2:"",cat3:"",dest_id:"",breakpoint:0,source:"",attrs:[],mappa:0,lat:0,lon:0},pgmp_pgnf:{domain:"",pag_cat1:"",pag_cat2:"",pag_cat3:"",pag_id:"",doc_id:"",doc_type:0,ref_host:"",ref_path:"",breakpoint:0,source:"",search:"",searchno:0,attrs:[],metric_type:"",metric_value:0,lat:0,lon:0},pgmp_bxmp_pgnf:{domain:"",pag_cat1:"",pag_cat2:"",pag_cat3:"",pag_id:"",doc_id:"",doc_type:0,ref_host:"",ref_path:"",boxes_ctr_id:[],boxes_id:[{area:"",box:"",doc_id:""}],breakpoint:0,source:"",attrs:[],search:"",searchno:0,metric_type:"",metric_value:0,lat:0,lon:0},pgnf:{domain:"",pag_cat1:"",pag_cat2:"",pag_cat3:"",pag_id:"",doc_id:"",doc_type:0,ref_host:"",ref_path:"",breakpoint:0,source:"",search:"",searchno:0,attrs:[],metric_type:"",metric_value:0,lat:0,lon:0},cntsc:{domain:"",doc_id:"",doc_type:0,fblike:0,fbshare:0,fbcomment:0,twcount:0,gplus:0}},this.getEventUrls=function(e,r){window.console&&window.IOL.debug&&console.log("getEventUrls",e,r),"string"==typeof r.boxes_ctr_id&&(window.console&&window.IOL.debug&&console.log("getEventUrls boxes_ctr_id atteso array trovata stringa, la converte in array"),r.boxes_ctr_id=[r.boxes_ctr_id]),"string"==typeof r.attrs&&(window.console&&window.IOL.debug&&console.log("getEventUrls attrs atteso array trovata stringa, la converte in array"),r.attrs=[r.attrs]);var n=(r.boxes_ctr_id&&r.boxes_ctr_id.length||0)+(r.boxes_id&&r.boxes_id.length||0),i=r.attrs&&r.attrs.length||0;if(window.console&&window.IOL.debug&&console.log(t.eventTypesSplits[e],n,i),t.eventTypesSplits[e]&&30<n){window.console&&window.IOL.debug&&console.log("suddivide l'evento in eventi box multipli");var s=(r.boxes_ctr_id||[]).slice(),o=(r.boxes_id||[]).slice(),c=0,l=[];for(r.boxes_ctr_id=s.slice(30*c,30*c+30),r.boxes_id=o.slice(30*c,30*c+30);c<20&&(0<r.boxes_ctr_id.length||0<r.boxes_id.length);)l.push(t._getEventUrls(e,r)),0==c&&(e=t.eventTypesSplits[e]),c++,r.boxes_ctr_id=s.slice(30*c,30*c+30),r.boxes_id=o.slice(30*c,30*c+30);return l}if(30<i||r.multikpi){window.console&&window.IOL.debug&&console.log("suddivide l'evento in eventi info multipli");var p=r.attrs||[],u=r.multikpi||[];if(c=0,l=[],"string"==typeof u)return window.console&&window.IOL.debug&&console.log("getEventUrls ERROR multikpi atteso array trovata stringa."),!1;for(c=0;c<u.length;c++)u[c].attrs&&u[c].attrs.length&&(r.attrs=u[c].attrs,r.metric_type=u[c].name||"",r.metric_value=u[c].value||0,r.multikpi=!1,l.push(t._getEventUrls(e,r)),u.splice(c,1),c--);for((c=0)<u.length?(r.multikpi=u.slice(6*c,6*c+6),r.attrs=p):(r.attrs=p.slice(30*c,30*c+30),r.multikpi=[]);c<20&&0<u.length&&0<r.multikpi.length||0==u.length&&0<r.attrs.length;)0<r.multikpi.length?(r.metric_type=r.multikpi[0].name||"",r.metric_value=r.multikpi[0].value||0,r.multikpi=r.multikpi.slice(1)):0<c&&r.metric_type&&(r.metric_type="",r.metric_value=""),l.push(t._getEventUrls(e,r)),c++,0<u.length?r.multikpi=u.slice(6*c,6*c+6):r.attrs=p.slice(30*c,30*c+30);return l}return window.console&&window.IOL.debug&&console.log("evento singolo"),[t._getEventUrls(e,r)]},this._getEventUrls=function(e,r){if(window.console&&window.IOL.debug&&console.log("_getEventUrls",e,r),"string"!=typeof e)return window.console&&window.IOL.debug&&console.log("_getEventUrls : wrong eventType",e),!1;n=t.eventTypes[e];var n,i,s,o,c,l=t._urlBase+"&"+e+"=",p="";for(o in n)if(n.hasOwnProperty(o))switch(typeof(i=r[o]||n[o])){case"string":if("box_ctr_id"===o){if("object"!=typeof i)p+=t.escape(i)+",";else{for(c in s=!1,i)i.hasOwnProperty(c)&&(p+=(s?";":"")+t.escape(i[c]),s=!0);p+=","}}else p+=t.escape(i)+",";break;case"number":p+=parseFloat("0"+i)+",";break;case"object":for(c in s=!1,i)i.hasOwnProperty(c)&&("object"==typeof i[c]?p+=(s?";":"")+t.escape(i[c].area)+"|"+t.escape(i[c].box)+"|"+t.escape(i[c].doc_id):p+=(s?";":"")+t.escape(i[c]),s=!0);p+=",";break;default:console.log("ERROR type not found! ",o)}if(p=p.substr(0,p.length-1),window.console&&window.IOL.debug&&console.log("_getEventUrls",l,p),l=l+t.escape(p)+"&nc="+(new Date).getTime(),r.multikpi)for(i=0;i<r.multikpi.length;i++)l+="&r="+/[a-zA-Z0-9\-\_]+/g.exec(r.multikpi[i].name)+"|"+/[0-9]+/g.exec(r.multikpi[i].value);return l},this.escape=function(e){try{return encodeURIComponent(e||"").replace(/\'/g,"%27")}catch(t){return escape(e)}},this.sendEvents=function(e,r){window.console&&window.IOL.debug&&window.console.log("sendEvents",e,r),r=r||!1;var n,i,s,o,c=!1;for(o in!1!==r&&(n=e.length,i=r,s=0,c=function(){s++,window.console&&window.IOL.debug&&console.log("sent event no",s),n<=s&&(window.console&&window.IOL.debug&&console.log("call callback",s),i())}),e)e.hasOwnProperty(o)&&t.remoteCall(e[o],c)},this.pageImpression=function(e,r,n,i,s,o,c,l,p,u,g,d){return c=c||!1,t.sendEvents(t.getEventUrls("pgmp",{domain:e||t.eventTypes.pgmp.domain,pag_id:r||t.eventTypes.pgmp.pag_id,doc_id:n||t.eventTypes.pgmp.doc_id,doc_type:i||t.eventTypes.pgmp.doc_type,breakpoint:s||t.eventTypes.pgmp.breakpoint,ref_host:t.override_ref_host||t.getHostFromUrl(document.referrer)||t.eventTypes.pgmp.ref_host,ref_path:t.override_ref_path||t.getPathFromUrl(document.referrer)||t.eventTypes.pgmp.ref_path,attrs:o||t.eventTypes.pgmp.attrs,lat:g||t.eventTypes.ck.lat,lon:d||t.eventTypes.ck.lon,pag_cat1:l||t.eventTypes.ck.pag_cat1,pag_cat2:p||t.eventTypes.ck.pag_cat2,pag_cat3:u||t.eventTypes.ck.pag_cat3}),c),!1},this.pageAndBoxesImpression=function(e,r,n,i,s,o,c,l,p,u,g,d,m,f){return p=p||!1,t.sendEvents(t.getEventUrls("pgmp_bxmp",{domain:e||t.eventTypes.pgmp.domain,pag_id:r||t.eventTypes.pgmp.pag_id,doc_id:n||t.eventTypes.pgmp.doc_id,doc_type:i||t.eventTypes.pgmp.doc_type,breakpoint:s||t.eventTypes.pgmp.breakpoint,ref_host:t.override_ref_host||t.getHostFromUrl(document.referrer)||t.eventTypes.pgmp.ref_host,ref_path:t.override_ref_path||t.getPathFromUrl(document.referrer)||t.eventTypes.pgmp.ref_path,attrs:o||t.eventTypes.pgmp.attrs,boxes_ctr_id:c||t.eventTypes.pgmp.boxes_ctr_id,boxes_id:l||t.eventTypes.pgmp.boxes_id,lat:m||t.eventTypes.ck.lat,lon:f||t.eventTypes.ck.lon,pag_cat1:u||t.eventTypes.ck.pag_cat1,pag_cat2:g||t.eventTypes.ck.pag_cat2,pag_cat3:d||t.eventTypes.ck.pag_cat3}),p),!1},this.pageImpressionAndInfo=function(e,r,n,i,s,o,c,l,p,u,g,d,m){c=c||!1;var f={domain:e||t.eventTypes.pgmp.domain,pag_id:r||t.eventTypes.pgmp.pag_id,doc_id:n||t.eventTypes.pgmp.doc_id,doc_type:i||t.eventTypes.pgmp.doc_type,breakpoint:s||t.eventTypes.pgmp.breakpoint,ref_host:t.override_ref_host||t.getHostFromUrl(document.referrer)||t.eventTypes.pgmp.ref_host,ref_path:t.override_ref_path||t.getPathFromUrl(document.referrer)||t.eventTypes.pgmp.ref_path,attrs:o||t.eventTypes.pgmp.attrs,lat:d||t.eventTypes.ck.lat,lon:m||t.eventTypes.ck.lon,pag_cat1:p||t.eventTypes.ck.pag_cat1,pag_cat2:u||t.eventTypes.ck.pag_cat2,pag_cat3:g||t.eventTypes.ck.pag_cat3};for(a in l)l.hasOwnProperty(a)&&(f[a]=l[a]);return t.sendEvents(t.getEventUrls("pgmp_pgnf",f),c),!1},this.getAClickH=function(e,r,n){return function(i){t.getCkH(e.href,e.target,r.domain,r.pag_id,r.ref_host,r.ref_path,r.box_ctr_id,r.page,r.area,r.box,r.link_type,r.cat1,r.cat2,r.cat3,r.dest_id,r.breakpoint,r.attrs,r.mappa,n,r.pag_cat1,r.pag_cat2,r.pag_cat3,r.doc_id,r.doc_type,r.source,r.lat,r.lon)(i)}},this.getClickH=function(e,r,n,i){return t.getCkH(e,r,n.domain,n.pag_id,n.ref_host,n.ref_path,n.box_ctr_id,n.page,n.area,n.box,n.link_type,n.cat1,n.cat2,n.cat3,n.dest_id,n.breakpoint,n.attrs,n.mappa,i,n.pag_cat1,n.pag_cat2,n.pag_cat3,n.doc_id,n.doc_type,n.source,n.lat,n.lon)},this.getCkH=function(e,r,n,i,s,o,c,l,p,u,g,d,m,f,v,h,y,b,k,T,_,E,x,I,w,C,O){return r=r||"",k=k||!1,function(s){k=k||!1,s.preventDefault&&s.preventDefault();var o=window,L=r.toLowerCase();function M(){if(!1!==N&&(clearTimeout(N),N=!1),!1===k){var t=window,n=0,i=(r=r||"").toLowerCase();if("_ajax"==i)return!1;if("_top"==i){for(;t!=t.parent&&++n<50;)t=t.parent;t.location.href=e}else"_parent"==i?t.parent.location.href=e:"_blank"==i?o.location.href=e:""==i?t.location.href=e:o.location.href=e}else k(s,e,r,S)}"_ajax"==L||"_top"==L||"_parent"==L||("_blank"==L?o=window.open("",L):""==L||(o=window.open("",r)));var S={domain:n||t.eventTypes.ck.domain,pag_id:i||t.eventTypes.ck.pag_id,ref_host:t.override_ref_host||t.getHostFromUrl(document.referrer)||t.eventTypes.ck.ref_host,ref_path:t.override_ref_path||t.getPathFromUrl(document.referrer)||t.eventTypes.ck.ref_path,box_ctr_id:c||t.eventTypes.ck.box_ctr_id,page:l||t.eventTypes.ck.page,area:p||t.eventTypes.ck.area,box:u||t.eventTypes.ck.box,link_type:g||t.eventTypes.ck.link_type,cat1:d||t.eventTypes.ck.cat1,cat2:m||t.eventTypes.ck.cat2,cat3:f||t.eventTypes.ck.cat3,dest_id:v||t.eventTypes.ck.dest_id,breakpoint:h||t.eventTypes.ck.breakpoint,attrs:y||t.eventTypes.ck.attrs,mappa:b||t.eventTypes.ck.mappa,pag_cat1:T||t.eventTypes.ck.pag_cat1,pag_cat2:_||t.eventTypes.ck.pag_cat2,pag_cat3:E||t.eventTypes.ck.pag_cat3,doc_id:x||t.eventTypes.ck.doc_id,doc_type:I||t.eventTypes.ck.doc_type,source:w||t.eventTypes.ck.source,lat:C||t.eventTypes.ck.lat,lon:O||t.eventTypes.ck.lon},N=!1;N=setTimeout(M,3e3),t.sendEvents(t.getEventUrls("ck",S),M)}},this.remoteCall=function(e,t){window.console&&window.IOL.debug&&console.log(e,t),t=t||!1;var r=new Image;return!1!==(t=t||!1)&&(r.onload=t,r.onerror=t),r.src=e,!0},this.getUserAgent=function(){return navigator.userAgent},this.getHostFromUrl=function(e){return(/https?:\/\/([^\/:]+)/.exec(e=e||"")||["",""])[1]},this.getPathFromUrl=function(e){return(/https?:\/\/([^\/]+)([^?]*)/.exec(e=e||"")||["","",""])[2]},this.getParameterByName=function(e){var t=RegExp("[\\?&]"+(e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^&#]*)").exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},window.IOL.EVNT.debugUrl=function(e){var r,n,i,s;for(n in r=(e=e.substring(e.indexOf("v3?&")+4)).substring(0,e.indexOf("=")),i=decodeURIComponent(e.substring(e.indexOf("=")+1,e.indexOf("&"))).split(","),s=0,t.eventTypes[r])t.eventTypes[r].hasOwnProperty(n)&&(console.log("%c%s: %c%s","color: red;",n,"color: blue;",i[s]),s++)},t},function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.sbjs=e()}}(function(){return(function e(t,r,n){function i(o,c){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!c&&l)return l(o,!0);if(s)return s(o,!0);var p=Error("Cannot find module '"+o+"'");throw p.code="MODULE_NOT_FOUND",p}var u=r[o]={exports:{}};t[o][0].call(u.exports,function(e){var r;return i(t[o][1][e]||e)},u,u.exports,e,t,r,n)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i})({1:[function(e,t,r){"use strict";var n=e("./init");t.exports={init:function(e){this.get=n(e),e&&e.callback&&"function"==typeof e.callback&&e.callback(this.get)}}},{"./init":6}],2:[function(e,t,r){"use strict";var n=e("./terms"),i=e("./helpers/utils"),s={containers:{current:"sbjs_current",current_extra:"sbjs_current_add",first:"sbjs_first",first_extra:"sbjs_first_add",session:"sbjs_session",udata:"sbjs_udata",promocode:"sbjs_promo"},service:{migrations:"sbjs_migrations"},delimiter:"|||",aliases:{main:{type:"typ",source:"src",medium:"mdm",campaign:"cmp",content:"cnt",term:"trm"},extra:{fire_date:"fd",entrance_point:"ep",referer:"rf"},session:{pages_seen:"pgs",current_page:"cpg"},udata:{visits:"vst",ip:"uip",agent:"uag"},promo:"code"},pack:{main:function(e){return s.aliases.main.type+"="+e.type+s.delimiter+s.aliases.main.source+"="+e.source+s.delimiter+s.aliases.main.medium+"="+e.medium+s.delimiter+s.aliases.main.campaign+"="+e.campaign+s.delimiter+s.aliases.main.content+"="+e.content+s.delimiter+s.aliases.main.term+"="+e.term},extra:function(e){return s.aliases.extra.fire_date+"="+i.setDate(new Date,e)+s.delimiter+s.aliases.extra.entrance_point+"="+document.location.href+s.delimiter+s.aliases.extra.referer+"="+(document.referrer||n.none)},user:function(e,t){return s.aliases.udata.visits+"="+e+s.delimiter+s.aliases.udata.ip+"="+t+s.delimiter+s.aliases.udata.agent+"="+navigator.userAgent},session:function(e){return s.aliases.session.pages_seen+"="+e+s.delimiter+s.aliases.session.current_page+"="+document.location.href},promo:function(e){return s.aliases.promo+"="+i.setLeadingZeroToInt(i.randomInt(e.min,e.max),e.max.toString().length)}}};t.exports=s},{"./helpers/utils":5,"./terms":9}],3:[function(e,t,r){"use strict";var n=e("../data").delimiter;t.exports={encodeData:function(e){return encodeURIComponent(e).replace(/\!/g,"%21").replace(/\~/g,"%7E").replace(/\*/g,"%2A").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")},decodeData:function(e){try{return decodeURIComponent(e).replace(/\%21/g,"!").replace(/\%7E/g,"~").replace(/\%2A/g,"*").replace(/\%27/g,"'").replace(/\%28/g,"(").replace(/\%29/g,")")}catch(t){try{return unescape(e)}catch(r){return""}}},set:function(e,t,r,n,i){var s,o;if(r){var c=new Date;c.setTime(c.getTime()+60*r*1e3),s="; expires="+c.toGMTString()}else s="";o=n&&!i?";domain=."+n:"",document.cookie=this.encodeData(e)+"="+this.encodeData(t)+s+o+"; path=/"},get:function(e){for(var t=this.encodeData(e)+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return this.decodeData(i.substring(t.length,i.length))}return null},destroy:function(e,t,r){this.set(e,"",-1,t,r)},parse:function(e){var t,r=[],i={};if("string"==typeof e)r.push(e);else for(var s in e)e.hasOwnProperty(s)&&r.push(e[s]);for(var o=0;o<r.length;o++){i[this.unsbjs(r[o])]={},t=this.get(r[o])?this.get(r[o]).split(n):[];for(var c=0;c<t.length;c++){var l=t[c].split("="),p=l.splice(0,1);p.push(l.join("=")),i[this.unsbjs(r[o])][p[0]]=this.decodeData(p[1])}}return i},unsbjs:function(e){return e.replace("sbjs_","")}}},{"../data":2}],4:[function(e,t,r){"use strict";t.exports={parse:function(e){for(var t=this.parseOptions,r=t.parser[t.strictMode?"strict":"loose"].exec(e),n={},i=14;i--;)n[t.key[i]]=r[i]||"";return n[t.q.name]={},n[t.key[12]].replace(t.q.parser,function(e,r,i){r&&(n[t.q.name][r]=i)}),n},parseOptions:{strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},getParam:function(e){for(var t={},r=e||window.location.search.substring(1),n=r.split("&"),i=0;i<n.length;i++){var s=n[i].split("=");if(void 0===t[s[0]])t[s[0]]=s[1];else if("string"==typeof t[s[0]]){var o=[t[s[0]],s[1]];t[s[0]]=o}else t[s[0]].push(s[1])}return t},getHost:function(e){return this.parse(e).host.replace("www.","")}}},{}],5:[function(e,t,r){"use strict";t.exports={escapeRegexp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},setDate:function(e,t){var r=e.getTimezoneOffset()/60,n=e.getHours();e.setHours(n+r+(t||0===t?t:-r));var i,s=e.getFullYear(),o=this.setLeadingZeroToInt(e.getMonth()+1,2),c=this.setLeadingZeroToInt(e.getDate(),2),l=this.setLeadingZeroToInt(e.getHours(),2);return s+"-"+o+"-"+c+" "+l+":"+this.setLeadingZeroToInt(e.getMinutes(),2)+":"+this.setLeadingZeroToInt(e.getSeconds(),2)},setLeadingZeroToInt:function(e,t){for(var r=e+"";r.length<t;)r="0"+r;return r},randomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}}},{}],6:[function(e,t,r){"use strict";var n=e("./data"),i=e("./terms"),s=e("./helpers/cookies"),o=e("./helpers/uri"),c=e("./helpers/utils"),l=e("./params"),p=e("./migrations");t.exports=function(e){function t(e){switch(e){case i.traffic.utm:d=i.traffic.utm,m=void 0!==E.utm_source?E.utm_source:void 0!==E.gclid?"google":void 0!==E.yclid?"yandex":i.none,f=void 0!==E.utm_medium?E.utm_medium:void 0!==E.gclid?"cpc":void 0!==E.yclid?"cpc":i.none,v=void 0!==E.utm_campaign?E.utm_campaign:void 0!==E[_.campaign_param]?E[_.campaign_param]:void 0!==E.gclid?"google_cpc":void 0!==E.yclid?"yandex_cpc":i.none,h=E.utm_content||i.none,y=function e(){var t=document.referrer;if(E.utm_term)return E.utm_term;if(!(t&&o.parse(t).host&&o.parse(t).host.match(/^(?:.*\.)?yandex\..{2,9}$/i)))return!1;try{return o.getParam(o.parse(document.referrer).query).text}catch(r){return!1}}()||i.none;break;case i.traffic.organic:d=i.traffic.organic,m=m||o.getHost(document.referrer),f=i.referer.organic,v=i.none,h=i.none,y=i.none;break;case i.traffic.referral:d=i.traffic.referral,m=m||o.getHost(document.referrer),f=f||i.referer.referral,v=i.none,h=o.parse(document.referrer).path,y=i.none;break;case i.traffic.typein:d=i.traffic.typein,m=_.typein_attributes.source,f=_.typein_attributes.medium,v=i.none,h=i.none,y=i.none;break;default:d=i.oops,m=i.oops,f=i.oops,v=i.oops,h=i.oops,y=i.oops}var t={type:d,source:m,medium:f,campaign:v,content:h,term:y};return n.pack.main(t)}function r(e){var t=document.referrer;switch(e){case i.traffic.organic:return!!t&&u(t)&&function e(t){var r="yandex",n="google",i=RegExp("^(?:.*\\.)?"+c.escapeRegexp(r)+"\\..{2,9}$"),s=RegExp(".*"+c.escapeRegexp("text")+"=.*"),l=RegExp("^(?:www\\.)?"+c.escapeRegexp(n)+"\\..{2,9}$");if(o.parse(t).query&&o.parse(t).host.match(i)&&o.parse(t).query.match(s))return m=r,!0;if(o.parse(t).host.match(l))return m=n,!0;if(!o.parse(t).query)return!1;for(var p=0;p<_.organics.length;p++){if(o.parse(t).host.match(RegExp("^(?:.*\\.)?"+c.escapeRegexp(_.organics[p].host)+"$","i"))&&o.parse(t).query.match(RegExp(".*"+c.escapeRegexp(_.organics[p].param)+"=.*","i")))return m=_.organics[p].display||_.organics[p].host,!0;if(p+1===_.organics.length)return!1}}(t);case i.traffic.referral:return!!t&&u(t)&&function e(t){if(!(_.referrals.length>0))return m=o.getHost(t),!0;for(var r=0;r<_.referrals.length;r++){if(o.parse(t).host.match(RegExp("^(?:.*\\.)?"+c.escapeRegexp(_.referrals[r].host)+"$","i")))return m=_.referrals[r].display||_.referrals[r].host,f=_.referrals[r].medium||i.referer.referral,!0;if(r+1===_.referrals.length)return m=o.getHost(t),!0}}(t);default:return!1}}function u(e){if(_.domain){if(I)return o.getHost(e)!==o.getHost(x);var t=RegExp("^(?:.*\\.)?"+c.escapeRegexp(x)+"$","i");return!o.getHost(e).match(t)}return o.getHost(e)!==o.getHost(document.location.href)}function g(){s.set(n.containers.current_extra,n.pack.extra(_.timezone_offset),w,x,I),s.get(n.containers.first_extra)||s.set(n.containers.first_extra,n.pack.extra(_.timezone_offset),w,x,I)}var d,m,f,v,h,y,b,k,T,_=l.fetch(e),E=o.getParam(),x=_.domain.host,I=_.domain.isolate,w=_.lifetime;return p.go(w,x,I),s.set(n.containers.current,function e(){var o;if(void 0!==E.utm_source||void 0!==E.utm_medium||void 0!==E.utm_campaign||void 0!==E.utm_content||void 0!==E.utm_term||void 0!==E.gclid||void 0!==E.yclid||void 0!==E[_.campaign_param])g(),o=t(i.traffic.utm);else if(r(i.traffic.organic))g(),o=t(i.traffic.organic);else if(!s.get(n.containers.session)&&r(i.traffic.referral))g(),o=t(i.traffic.referral);else{if(s.get(n.containers.first)||s.get(n.containers.current))return s.get(n.containers.current);g(),o=t(i.traffic.typein)}return o}(),w,x,I),s.get(n.containers.first)||s.set(n.containers.first,s.get(n.containers.current),w,x,I),s.get(n.containers.udata)?(b=parseInt(s.parse(n.containers.udata)[s.unsbjs(n.containers.udata)][n.aliases.udata.visits])||1,b=s.get(n.containers.session)?b:b+1,k=n.pack.user(b,_.user_ip)):(b=1,k=n.pack.user(b,_.user_ip)),s.set(n.containers.udata,k,w,x,I),s.get(n.containers.session)?(T=parseInt(s.parse(n.containers.session)[s.unsbjs(n.containers.session)][n.aliases.session.pages_seen])||1,T+=1):T=1,s.set(n.containers.session,n.pack.session(T),_.session_length,x,I),_.promocode&&!s.get(n.containers.promocode)&&s.set(n.containers.promocode,n.pack.promo(_.promocode),w,x,I),s.parse(n.containers)}},{"./data":2,"./helpers/cookies":3,"./helpers/uri":4,"./helpers/utils":5,"./migrations":7,"./params":8,"./terms":9}],7:[function(e,t,r){"use strict";var n=e("./data"),i=e("./helpers/cookies");t.exports={go:function(e,t,r){var s,o=this.migrations,c={l:e,d:t,i:r};if(i.get(n.containers.first)||i.get(n.service.migrations)){if(!i.get(n.service.migrations))for(s=0;s<o.length;s++)o[s].go(o[s].id,c)}else{var l=[];for(s=0;s<o.length;s++)l.push(o[s].id);var p="";for(s=0;s<l.length;s++)p+=l[s]+"=1",s<l.length-1&&(p+=n.delimiter);i.set(n.service.migrations,p,c.l,c.d,c.i)}},migrations:[{id:"1418474375998",version:"1.0.0-beta",go:function(e,t){var r=function(e,t,r){return t||r?e:n.delimiter};try{var s=[];for(var o in n.containers)n.containers.hasOwnProperty(o)&&s.push(n.containers[o]);for(var c=0;c<s.length;c++)if(i.get(s[c])){var l=i.get(s[c]).replace(/(\|)?\|(\|)?/g,r);i.destroy(s[c],t.d,t.i),i.destroy(s[c],t.d,!t.i),i.set(s[c],l,t.l,t.d,t.i)}i.get(n.containers.session)&&i.set(n.containers.session,n.pack.session(0),t.l,t.d,t.i),i.set(n.service.migrations,e+"=1",t.l,t.d,t.i)}catch(p){i.set(n.service.migrations,e+"=0",t.l,t.d,t.i)}}}]}},{"./data":2,"./helpers/cookies":3}],8:[function(e,t,r){"use strict";var n=e("./terms"),i=e("./helpers/uri");t.exports={fetch:function(e){var t=e||{},r={};if(r.lifetime=this.validate.checkFloat(t.lifetime)||6,r.lifetime=parseInt(30*r.lifetime*1440),r.session_length=this.validate.checkInt(t.session_length)||30,r.timezone_offset=this.validate.checkInt(t.timezone_offset),r.campaign_param=t.campaign_param||!1,r.user_ip=t.user_ip||n.none,t.promocode?(r.promocode={},r.promocode.min=parseInt(t.promocode.min)||1e5,r.promocode.max=parseInt(t.promocode.max)||999999):r.promocode=!1,t.typein_attributes&&t.typein_attributes.source&&t.typein_attributes.medium?(r.typein_attributes={},r.typein_attributes.source=t.typein_attributes.source,r.typein_attributes.medium=t.typein_attributes.medium):r.typein_attributes={source:"(direct)",medium:"(none)"},t.domain&&this.validate.isString(t.domain)?r.domain={host:t.domain,isolate:!1}:t.domain&&t.domain.host?r.domain=t.domain:r.domain={host:i.getHost(document.location.hostname),isolate:!1},r.referrals=[],t.referrals&&t.referrals.length>0)for(var s=0;s<t.referrals.length;s++)t.referrals[s].host&&r.referrals.push(t.referrals[s]);if(r.organics=[],t.organics&&t.organics.length>0)for(var o=0;o<t.organics.length;o++)t.organics[o].host&&t.organics[o].param&&r.organics.push(t.organics[o]);return r.organics.push({host:"bing.com",param:"q",display:"bing"}),r.organics.push({host:"yahoo.com",param:"p",display:"yahoo"}),r.organics.push({host:"about.com",param:"q",display:"about"}),r.organics.push({host:"aol.com",param:"q",display:"aol"}),r.organics.push({host:"ask.com",param:"q",display:"ask"}),r.organics.push({host:"globososo.com",param:"q",display:"globo"}),r.organics.push({host:"go.mail.ru",param:"q",display:"go.mail.ru"}),r.organics.push({host:"rambler.ru",param:"query",display:"rambler"}),r.organics.push({host:"tut.by",param:"query",display:"tut.by"}),r.referrals.push({host:"t.co",display:"twitter.com"}),r.referrals.push({host:"plus.url.google.com",display:"plus.google.com"}),r},validate:{checkFloat:function(e){return!!(e&&this.isNumeric(parseFloat(e)))&&parseFloat(e)},checkInt:function(e){return!!(e&&this.isNumeric(parseInt(e)))&&parseInt(e)},isNumeric:function(e){return!isNaN(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)}}}},{"./helpers/uri":4,"./terms":9}],9:[function(e,t,r){"use strict";t.exports={traffic:{utm:"utm",organic:"organic",referral:"referral",typein:"typein"},referer:{referral:"referral",organic:"organic",social:"social"},none:"(none)",oops:"(Houston, we have a problem)"}},{}]},{},[1])(1)}),sbjs.init();var e,t=document.referrer;function r(e,t){switch(!0){case/^email$/i.test(t):return"Email";case/^affiliate$/i.test(t):return"Affiliates";case/^referral$/i.test(t):return"Referral";case/^(organic|search)$/i.test(t):return"Organic Search";case/^(cpc|ppc|paidsearch)$/i.test(t):return"Paid Search";case/^(cpv|cpa|cpp)$/i.test(t):return"Other Advertising";case/^(display|cpm|banner)$/i.test(t):return"Display";case/^(social|social-network|social-media|sm|social network|social media)$/i.test(t):return"Social";case"(none)"!=t:return"Other";case"(direct)"==e:return"Direct";case"(internal)"==e:return"Internal";default:return"Referral"}}function n(e){window.IOLMetricsConf={sample:100,domain:document.location.hostname,testab:"a",basic:!0,extended:!0,visibility:!1,max:12e4,grouped:6,groupTimeout:1e3,pageid:document.location.hostname+document.location.pathname,pagCat1:"iolsite",source:"utm_source="+e.get.current.src+"&utm_medium="+e.get.current.mdm+"&utm_campaign="+e.get.current.cmp+"&utm_content="+e.get.current.cnt+"&utm_term="+e.get.current.trm},window.IOL=window.IOL||{},window.IOL.EVNT=window.IOL.EVNT||{},window.IOLMetrics=window.IOLMetrics||[],window.IOLMetricsTrack=function(e,t,r,n,i,s){try{void 0===t&&(t=!1),!1===t&&(t=Date.now()),window.IOLMetrics.push([e,t,r,n,i,s])}catch(o){}},window.IOL.EVNT.metrics=new function(){function e(){if(window.performance&&window.performance.now&&(r=!0),r&&(window.addEventListener||(r=!1)),r){if(document.visibilityState&&(s=1,"visible"!=document.visibilityState&&(s=2)),!IOL.EVNT.evMngrCls){var e=document.createElement("script");return e.onload=function(){setTimeout(window.IOL.EVNT.metrics.reInit,10)},e.setAttribute("src","https://i.plug.it/iplug/js/lib/iol/evnt/iol_evnt_v3.min.js"),void document.head.appendChild(e)}IOL.EVNT.evMngr=IOL.EVNT.evMngr||new IOL.EVNT.evMngrCls,p=O(),c=window.IOLMetrics.slice(),window.IOLMetrics={},window.IOLMetrics.push=function(e){t.track(e[0],e[1],e[2],e[3],e[4],e[5])},window.IOLMetricsTrack=function(e,t,r,n,i,s){try{if(!Date.now)return;void 0===t&&(t=!1),!1===t&&(t=Date.now()),window.IOLMetrics.push([e,t,r,n,i,s])}catch(o){}},E()}}var t=this,r=!1,n=!1,i=!1,s=0,o=[],c=[],l=12e4,p=0,u=!1,g=1,d=[],m=!1,f=300,v="",h="A",y=!1,b=!1,k=!0,T="",_="";this.reInit=function(){e()};var E=function(){if("object"==typeof window.IOLMetricsConf){var e=window.IOLMetricsConf;void 0!==e.sample&&(sample=e.sample/100),e.domain&&(domain=e.domain),e.testab&&(h=e.testab),e.pageid&&(v=e.pageid),void 0!==e.visibility&&(b=e.visibility),void 0!==e.basic&&(k=e.basic),void 0!==e.extended&&(y=e.extended),e.grouped&&(g=e.grouped),e.groupTimeout&&(f=e.groupTimeout),e.max&&(l=e.max),e.pagCat1&&(T=e.pagCat1),e.source&&(_=e.source),r&&0<sample&&Math.random()<sample&&(u=!0),n=!0,"complete"==document.readyState?setTimeout(x,100):(window.addEventListener("load",function(){setTimeout(x,100)}),I())}else document.addEventListener("DOMContentLoaded",function(){setTimeout(E,10)})},x=function(){if(i=!0,0<s){var e=1;"visible"!=document.visibilityState&&(e=2),e!=s&&(s=1==e?3:4),b&&u&&t.track("perf_visible_"+s,s,!1,!1,!1)}if(u&&k){var r=window.performance.timing;t.track("perf_load",r.loadEventEnd-r.fetchStart),t.track("perf_ttfb",r.responseStart-r.fetchStart),t.track("perf_ready",r.domContentLoadedEventStart-r.fetchStart),t.track("perf_dcl",r.domContentLoadedEventEnd-r.fetchStart)}u&&y&&(r=window.performance.timing,t.track("perf_connect",r.connectEnd-r.connectStart),t.track("perf_dns",r.domainLookupEnd-r.domainLookupStart),t.track("perf_fetch",r.responseEnd-r.requestStart)),I()},I=function(){for(;0<c.length;)o.push(c.shift());for(;0<o.length;){var e=o.shift();t.track(e[0],e[1],e[2],e[3],e[4],e[5])}};this.track=function(e,t,o,m,f,v){if(!r)return!1;e=e||"default",void 0===t&&(t=Date.now()),!1===t&&(t=Date.now()),o=o||!1,m=m||!1,void 0===f&&(f=!0),v=v||{};try{if(!n||!i&&!o)return void c.push([e,t,o,m,f,v]);if(f&&1<s)return;var h=typeof t;"string"!=h&&1e6<t&&(t-=window.performance.timing.fetchStart),(u||m)&&("string"!=h&&(t=Math.floor(t)),("string"!=h&&0<=t&&t<l||"string"==h)&&(0<v.length&&(o=!0),1==g||o?w(domain,e,p,t,!1,v):(d.push([domain,e,p,t]),C())))}catch(y){}};var w=function(e,t,r,n,i,s){i=i||!1,s=s||!1;var o=h.toUpperCase();IOL.EVNT.evMngr.sendEvents(IOL.EVNT.evMngr.getEventUrls("pgnf",{domain:e,pag_id:v,doc_id:"",doc_type:0,breakpoint:r,staytime:0,scrolls:[],search:o,searchno:0,attrs:s,metric_type:t,metric_value:n,multikpi:i,pag_cat1:T,source:_}),function(){})},C=function(e){if(e=e||!1,d.length>g||e){for(var t=[],r="",n="",i=0;i<g;i++){var s=d.shift();s&&(t.push({name:s[1],value:s[3]}),r=s[0],n=s[2])}w(r,"",n,0,t,[])}clearTimeout(m),m=0<d.length&&setTimeout(function(){C(!0)},f)},O=function(){var e=window,t=document,r=t.documentElement,n=t.getElementsByTagName("body")[0],i=e.innerWidth||r.clientWidth||n.clientWidth;return i&&i<560?559:1192};e()}}function i(e){window.IOL.EVNT.evMngr=window.IOL.EVNT.evMngr||new window.IOL.EVNT.evMngrCls,IOL.EVNT.evMngr.sendEvents(IOL.EVNT.evMngr.getEventUrls("pgmp_pgnf",{domain:document.location.hostname,pag_cat1:"iolsite",pag_cat2:dmAPI.getSiteName(),pag_cat3:r(e.get.current.src,e.get.current.mdm),pag_id:document.location.hostname+document.location.pathname,doc_id:"",doc_type:"",ref_host:IOL.EVNT.evMngr.getHostFromUrl(t),ref_path:IOL.EVNT.evMngr.getPathFromUrl(t),breakpoint:"",source:"utm_source="+e.get.current.src+"&utm_medium="+e.get.current.mdm+"&utm_campaign="+e.get.current.cmp+"&utm_content="+e.get.current.cnt+"&utm_term="+e.get.current.trm,search:"",searchno:"",metric_type:"",metric_value:"",attrs:[]}),function(){})}function s(e,n){window.IOL.EVNT.evMngr=window.IOL.EVNT.evMngr||new window.IOL.EVNT.evMngrCls,IOL.EVNT.evMngr.sendEvents(IOL.EVNT.evMngr.getEventUrls("pgnf",{domain:document.location.hostname,pag_cat1:"iolsite",pag_cat2:dmAPI.getSiteName(),pag_cat3:r(n.get.current.src,n.get.current.mdm),pag_id:document.location.hostname+document.location.pathname,doc_id:"",doc_type:"",ref_host:IOL.EVNT.evMngr.getHostFromUrl(t),ref_path:IOL.EVNT.evMngr.getPathFromUrl(t),breakpoint:"",source:"utm_source="+n.get.current.src+"&utm_medium="+n.get.current.mdm+"&utm_campaign="+n.get.current.cmp+"&utm_content="+n.get.current.cnt+"&utm_term="+n.get.current.trm,search:"",searchno:"",metric_type:e,metric_value:"",attrs:[]}),function(){})}function o(e,n){window.IOL.EVNT.evMngr=window.IOL.EVNT.evMngr||new window.IOL.EVNT.evMngrCls,IOL.EVNT.evMngr.sendEvents(IOL.EVNT.evMngr.getEventUrls("pgnf",{domain:document.location.hostname,pag_cat1:"iolsite",pag_cat2:dmAPI.getSiteName(),pag_cat3:r(n.get.current.src,n.get.current.mdm),pag_id:document.location.hostname+document.location.pathname,doc_id:"",doc_type:"",ref_host:IOL.EVNT.evMngr.getHostFromUrl(t),ref_path:IOL.EVNT.evMngr.getPathFromUrl(t),breakpoint:"",source:"utm_source="+n.get.current.src+"&utm_medium="+n.get.current.mdm+"&utm_campaign="+n.get.current.cmp+"&utm_content="+n.get.current.cnt+"&utm_term="+n.get.current.trm,search:"",searchno:"",metric_type:"stayTime",metric_value:e,attrs:[]}),function(){})}function c(e,t="gtag"){var r=[],s=document.getElementsByTagName("head")[0];e.forEach(e=>{var t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,r.push(t)});var o=`
			window.dataLayer = window.dataLayer || [];
			function ${t}(){dataLayer.push(arguments);}
			${t}('js', new Date());
			${e.map(e=>`${t}('config','${e}')`).join(";\n")};
		`,c=document.createElement("script");try{c.appendChild(document.createTextNode(o))}catch(l){c.text=o}r.push(c),r.forEach(function(e,t){s.insertBefore(e,s.childNodes[t])}),i(sbjs),n(sbjs)}dmAPI.runBeforeAjaxNavigation("referrerUpdate",function(){t=window.location.href});var l,p=location.hostname;if(!new Set(["my.duda.co","editor-sandbox.duda.co","ilmiosito.italiaonline.it","s.multiscreensite.com"]).has(p)){var u=["G-23LNSPS7Q6"];if($.ajax({dataType:"json",contentType:"application/json; charset=utf-8",url:`https://websitews.italiaonline.it/products/check/dudaid/${dmAPI.getSiteName()}`,async:!1,success:function(e){e&&e.isEcommerce&&u.push("G-2EDDRBLEW1"),c(u)},error:function(e,t,r){console.log("An error occured retrieving Prodis Check data"),console.log(e),c(u)}}),null==g)var g=!1;if(!0==g){c([moquProperty],"moqugtag");var d=dmAPI.getSiteName()}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).browserInteractionTime=t()}(this,function(){"use strict";var e=function(){return(e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},t=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n="object"==typeof r&&r&&r.Object===Object&&r,i="object"==typeof self&&self&&self.Object===Object&&self,s=n||i||Function("return this")(),o=function(){return s.Date.now()},c=s.Symbol,l=Object.prototype,p=l.hasOwnProperty,u=l.toString,g=c?c.toStringTag:void 0,d=function(e){var t=p.call(e,g),r=e[g];try{e[g]=void 0;var n=!0}catch(i){}var s=u.call(e);return n&&(t?e[g]=r:delete e[g]),s},m=Object.prototype.toString,f=c?c.toStringTag:void 0,v=function(e){var t;return null==e?void 0===e?"[object Undefined]":"[object Null]":f&&f in Object(e)?d(e):(t=e,m.call(t))},h=function(e){var t;return"symbol"==typeof e||null!=(t=e)&&"object"==typeof t&&"[object Symbol]"==v(e)},y=NaN,b=/^\s+|\s+$/g,k=/^[-+]0x[0-9a-f]+$/i,T=/^0b[01]+$/i,_=/^0o[0-7]+$/i,E=parseInt,x=function(e){if("number"==typeof e)return e;if(h(e))return y;if(t(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=t(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(b,"");var n=T.test(e);return n||_.test(e)?E(e.slice(2),n?2:8):k.test(e)?y:+e},I=Math.max,w=Math.min,C=function(e,r,n){var i,s,c,l,p,u,g=0,d=!1,m=!1,f=!0;if("function"!=typeof e)throw TypeError("Expected a function");function v(t){var r=i,n=s;return i=s=void 0,g=t,l=e.apply(n,r)}function h(e){var t=e-u;return void 0===u||t>=r||t<0||m&&e-g>=c}function y(){var e,t,n=o();if(h(n))return b(n);p=setTimeout(y,(t=r-((e=n)-u),m?w(t,c-(e-g)):t))}function b(e){return p=void 0,f&&i?v(e):(i=s=void 0,l)}function k(){var e,t=o(),n=h(t);if(i=arguments,s=this,u=t,n){if(void 0===p)return g=e=u,p=setTimeout(y,r),d?v(e):l;if(m)return p=setTimeout(y,r),v(u)}return void 0===p&&(p=setTimeout(y,r)),l}return r=x(r)||0,t(n)&&(d=!!n.leading,c=(m="maxWait"in n)?I(x(n.maxWait)||0,r):c,f="trailing"in n?!!n.trailing:f),k.cancel=function(){void 0!==p&&clearTimeout(p),g=0,i=u=s=p=void 0},k.flush=function(){return void 0===p?l:b(o())},k},O=function(e,r,n){var i=!0,s=!0;if("function"!=typeof e)throw TypeError("Expected a function");return t(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),C(e,r,{leading:i,maxWait:r,trailing:s})},L=["scroll","resize"],M=["wheel","keydown","keyup","mousedown","mousemove","touchstart","touchmove","click","contextmenu"];return function(){function t(t){var r=t.timeIntervalEllapsedCallbacks,n=t.absoluteTimeEllapsedCallbacks,i=t.checkCallbacksIntervalMs,s=t.browserTabInactiveCallbacks,o=t.browserTabActiveCallbacks,c=t.idleTimeoutMs,l=this;this.onBrowserTabInactive=function(e){l.isRunning()&&l.stopTimer(),l.browserTabInactiveCallbacks.forEach(function(e){return e(l.getTimeInMilliseconds())})},this.onBrowserTabActive=function(e){l.isRunning()||l.startTimer(),l.browserTabActiveCallbacks.forEach(function(e){return e(l.getTimeInMilliseconds())})},this.onTimePassed=function(){l.absoluteTimeEllapsedCallbacks.forEach(function(e,t){var r=e.callback,n=e.pending,i=e.timeInMilliseconds;n&&i<=l.getTimeInMilliseconds()&&(r(l.getTimeInMilliseconds()),l.absoluteTimeEllapsedCallbacks[t].pending=!1)}),l.timeIntervalEllapsedCallbacks.forEach(function(e,t){var r=e.callback,n=e.timeInMilliseconds,i=e.multiplier;n<=l.getTimeInMilliseconds()&&(r(l.getTimeInMilliseconds()),l.timeIntervalEllapsedCallbacks[t].timeInMilliseconds=i(n))}),l.currentIdleTimeMs>=l.idleTimeoutMs&&l.isRunning()?(l.idle=!0,l.stopTimer()):l.currentIdleTimeMs+=l.checkCallbacksIntervalMs},this.resetIdleTime=function(){l.idle&&l.startTimer(),l.idle=!1,l.currentIdleTimeMs=0},this.registerEventListeners=function(){var t={passive:!0},r=e({},t,{capture:!0});window.addEventListener("blur",l.onBrowserTabInactive,r),window.addEventListener("focus",l.onBrowserTabActive,r);var n=O(l.resetIdleTime,2e3,{leading:!0,trailing:!1});L.forEach(function(e){window.addEventListener(e,n,r)}),M.forEach(function(e){return document.addEventListener(e,n,t)})},this.unregisterEventListeners=function(){window.removeEventListener("blur",l.onBrowserTabInactive),window.removeEventListener("focus",l.onBrowserTabActive),L.forEach(function(e){return window.removeEventListener(e,l.resetIdleTime)}),M.forEach(function(e){return document.removeEventListener(e,l.resetIdleTime)})},this.checkCallbacksOnInterval=function(){l.checkCallbackIntervalId=window.setInterval(function(){l.onTimePassed()},l.checkCallbacksIntervalMs)},this.startTimer=function(){l.checkCallbackIntervalId||l.checkCallbacksOnInterval();var e=l.times[l.times.length-1];e&&null===e.stop||(l.times.push({start:performance.now(),stop:null}),l.running=!0)},this.stopTimer=function(){l.times.length&&(l.times[l.times.length-1].stop=performance.now(),l.running=!1)},this.addTimeIntervalEllapsedCallback=function(e){l.timeIntervalEllapsedCallbacks.push(e)},this.addAbsoluteTimeEllapsedCallback=function(e){l.absoluteTimeEllapsedCallbacks.push(e)},this.addBrowserTabInactiveCallback=function(e){l.browserTabInactiveCallbacks.push(e)},this.addBrowserTabActiveCallback=function(e){l.browserTabActiveCallbacks.push(e)},this.getTimeInMilliseconds=function(){return l.times.reduce(function(e,t){return t.stop?e+=t.stop-t.start:e+=performance.now()-t.start,e},0)},this.isRunning=function(){return l.running},this.reset=function(){l.times=[]},this.destroy=function(){l.unregisterEventListeners(),l.checkCallbackIntervalId&&window.clearInterval(l.checkCallbackIntervalId)},this.running=!1,this.times=[],this.idle=!1,this.currentIdleTimeMs=0,this.marks={},this.measures={},this.browserTabActiveCallbacks=o||[],this.browserTabInactiveCallbacks=s||[],this.checkCallbacksIntervalMs=i||100,this.idleTimeoutMs=c||3e3,this.timeIntervalEllapsedCallbacks=r||[],this.absoluteTimeEllapsedCallbacks=n||[],this.registerEventListeners()}return t.prototype.mark=function(e){this.marks[e]||(this.marks[e]=[]),this.marks[e].push({time:this.getTimeInMilliseconds()})},t.prototype.getMarks=function(e){if(!(this.marks[e].length<1))return this.marks[e]},t.prototype.measure=function(e,t,r){var n=this.marks[t],i=n[n.length-1],s=this.marks[r],o=s[s.length-1];this.measures[e]||(this.measures[e]=[]),this.measures[e].push({name:e,startTime:i.time,duration:o.time-i.time})},t.prototype.getMeasures=function(e){if(this.measures[e]||!(this.measures[e].length<1))return this.measures[e]},t}()}),dmAPI.runOnReady("customAnalytics",function(){(e=new browserInteractionTime({timeIntervalEllapsedCallbacks:[],absoluteTimeEllapsedCallbacks:[],browserTabInactiveCallbacks:[],browserTabActiveCallbacks:[],idleTimeoutMs:5e3,checkCallbacksIntervalMs:250})).startTimer(),window.onbeforeunload=function(t){o(e.getTimeInMilliseconds(),sbjs),e.destroy()},$(".wa-btns").click(function(){gtag("event","ClickToWhatsapp",{event_category:"DudaEvents",event_label:p}),dm_gaq_push_event("WhatsApp","ClickToWhatsapp",null,String(dmAPI.getSiteName())),s("ClickToWhatsapp",sbjs)}),$(".customtrack-paypal-evnt").click(function(){gtag("event","ClickToDeliveryPaypal",{event_category:"DudaEvents",event_label:p}),gtag("event","ClickToDeliveryPaypal",{event_category:"DeliveryEvents",event_label:p}),dm_gaq_push_event("DeliveryService","ClickToDeliveryPaypal",null,String(dmAPI.getSiteName())),s("ClickToDeliveryPaypal",sbjs)}),$("li.delivery-service a").click(function(){var e=$(this).attr("class");gtag("event","ClickToDeliveryService",{event_category:"DudaEvents",event_label:p}),gtag("event","ClickToDeliveryService_"+e,{event_category:"DeliveryEvents",event_label:p}),dm_gaq_push_event("DeliveryService","ClickToDeliveryService",null,String(dmAPI.getSiteName())),s("ClickToDeliveryService",sbjs)}),$(".send-message-btn").click(function(){s("SubmitNecrologio",sbjs)}),$(document).on("click",".coupon-click",function(){gtag("event","ClickToSiteCoupon",{event_category:"DudaEvents",event_label:p}),dm_gaq_push_event("Coupon","ClickToSiteCoupon",null,String(dmAPI.getSiteName())),s("ClickToSiteCoupon",sbjs)}),(document.documentElement.textContent||document.documentElement.innerText).indexOf("google_ad_client")>-1&&s("adsbygoogle",sbjs),(document.documentElement.textContent||document.documentElement.innerText).indexOf("123456789")>-1&&s("pivadefault",sbjs),document.querySelectorAll('[data-evnt="delivery-service-custom-widget-italiaonline"]').length>0&&(s("DeliveryServiceViewed",sbjs),gtag("event","DeliveryServiceViewed",{event_category:"DeliveryEvents",event_label:p})),document.querySelectorAll('[data-evnt="delivery-paypal-custom-widget-italiaonline"]').length>0&&(s("DeliveryPaypalViewed",sbjs),gtag("event","DeliveryPaypalViewed",{event_category:"DeliveryEvents",event_label:p})),document.querySelectorAll('[data-evnt="necrologio-custom-widget-italiaonline"]').length>0&&(s("NecrologioViewed",sbjs),gtag("event","NecrologiViewed",{event_category:"NecrologiEvents",event_label:p})),document.querySelectorAll('[data-evnt="annunci-custom-widget-italiaonline"]').length>0&&(s("AnnunciViewed",sbjs),gtag("event","AnnunciViewed",{event_category:"AnnunciEvents",event_label:p})),document.querySelectorAll('[data-evnt="sedi-custom-widget-italiaonline"]').length>0&&(s("SediViewed",sbjs),gtag("event","SediViewed",{event_category:"SediEvents",event_label:p}))}),dmAPI.subscribeToAllEvents(function(e,t){gtag("event",e,{event_category:"DudaEvents",event_label:p}),s(e,sbjs),!0==g&&moqugtag("event",e,{event_category:"DudaEvents",event_label:d})})}dmAPI.runBeforeAjaxNavigation("sendStayTime",function(){o(e.getTimeInMilliseconds(),sbjs),e.destroy()})}